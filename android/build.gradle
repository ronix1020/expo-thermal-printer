apply plugin: 'com.android.library'
apply plugin: 'kotlin-android'

group = 'expo.modules.thermalprinter'
version = '1.0.0'

android {
    namespace 'expo.modules.thermalprinter'
    compileSdkVersion 34
    
    defaultConfig {
        minSdkVersion 23
        targetSdkVersion 34
        versionCode 1
        versionName "1.0"
    }
    lintOptions {
        abortOnError false
    }
}

dependencies {
    implementation project(':expo-modules-core')
    implementation "org.jetbrains.kotlin:kotlin-stdlib"
    
    // Include the SDK JAR if it exists
    def sdkJar = file('libs/posprinterconnectandsendsdk.jar')
    if (sdkJar.exists()) {
        compileOnly files(sdkJar)
        implementation files(sdkJar)
    } else {
        logger.warn("ThermalPrinter: 'posprinterconnectandsendsdk.jar' not found in module libs. Ensure it is provided manually if needed.")
    }
}
